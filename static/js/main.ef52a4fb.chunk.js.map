{"version":3,"sources":["images/logo.svg","contexts/CurrentUserContext.js","components/Header/Header.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/ImagePopup/ImagePopup.js","utils/Api.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/ProtectedRoute/ProtectedRoute.js","components/Register/Register.js","components/Login/Login.js","utils/Auth.js","images/resolved.svg","images/rejected.svg","components/InfoToolTip/InfoToolTip.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","props","userContext","useContext","className","src","logoPath","alt","loggedIn","email","to","path","onClick","onLogOut","buttonName","Card","isOwner","_id","card","owner","isLiked","likes","some","item","link","name","onCardClick","type","onCardDelete","onCardLike","length","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","cardData","Footer","ImagePopup","onClose","api","authorizationToken","url","this","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_getResponseData","userInfo","method","body","JSON","stringify","info","id","avatarLink","PopupWithForm","isOpen","onSubmit","title","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","required","autoComplete","minLength","maxLength","value","onChange","target","EditAvatarPopup","urlRef","useRef","onUpdateAvatar","current","placeholder","ref","AddPlacePopup","nameValue","setNameValue","imageValue","setImageValue","ProtectedRoute","Components","components","Register","setEmail","password","setPassword","onRegister","Login","onLogin","BASE_URL","getResponseData","InfoToolTip","isOk","resolved","rejected","App","history","useHistory","currentUser","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setLoggedIn","isInfoToolTipOpen","setIsInfoToolTipOpen","isResponseOk","setIsResponseOk","handleTokenCheck","token","jwt","localStorage","getItem","response","data","catch","err","console","log","closeAllPopups","handleOpenInfoToolTip","boolean","handleIsResponseOk","push","getUserInfo","pre","getCardItems","cardsData","Provider","register","finally","onInfo","onResponse","authorize","setItem","removeItem","i","unlikeCard","newCard","prevState","c","likeCard","deleteCard","state","filter","user","setUserInfo","addNewCard","changeAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ef52a4fb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from 'react'\r\n\r\n\r\nconst CurrentUserContext = React.createContext()\r\n\r\nexport default CurrentUserContext","import React from \"react\";\r\nimport logoPath from '../../images/logo.svg'\r\nimport { Link } from \"react-router-dom\";\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext'\r\n\r\nfunction Header(props) {\r\n  const userContext = React.useContext(CurrentUserContext)\r\n\r\n  function handleLogOut() {\r\n    if (props.loggedIn) {\r\n      props.onLogOut()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logoPath} alt=\"Логотип Место\" />\r\n      <div className=\"header__info-container\">\r\n        {props.loggedIn && <p className=\"header__mail\">{userContext.email}</p>}\r\n        <Link to={props.path} onClick={handleLogOut} className=\"header__button\">{props.buttonName}</Link>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from \"react\";\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n\r\n  const userContext = React.useContext(CurrentUserContext)\r\n\r\n  const isOwner = userContext._id === props.card.owner._id\r\n  const isLiked = props.card.likes.some(item => item._id === userContext._id)\r\n\r\n  function handleClick () {\r\n    props.onCardClick(props.card)\r\n  }\r\n\r\n  function handleLikeClick () {\r\n    props.onCardLike(props.card)\r\n  }\r\n\r\n  function handleDeleteClick () {\r\n    props.onCardDelete(props.card)\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <li className=\"element\">\r\n        <img className=\"element__image\" src={props.card.link} alt={props.card.name} onClick={handleClick} />\r\n        {isOwner && <button className=\"element__delete-button\" type=\"button\" onClick={handleDeleteClick}></button>}\r\n        <div className=\"element__info\">\r\n          <h2 className=\"element__title\">{props.card.name}</h2>\r\n          <div className=\"element__like-area\">\r\n            <button className={`element__like-button ${isLiked && 'element__like-button_active'}`} type=\"button\" onClick={handleLikeClick}></button>\r\n            <span className=\"element__like-counter\">{props.card.likes.length}</span>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card","import React from \"react\";\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext.js\";\r\nimport Card from '../Card/Card.js'\r\n\r\nfunction Main(props) {\r\n  const userContext = React.useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\">\r\n          <img className=\"profile__avatar-img\" src={userContext.avatar} alt=\"Аватар профиля\" onClick={props.onEditAvatar} />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{userContext.name}</h1>\r\n          <p className=\"profile__subtitle\">{userContext.about}</p>\r\n          <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\r\n        </div>\r\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {props.cards.map((cardData) => {\r\n            return (\r\n              <Card card={cardData} key={cardData._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\r\n            )\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main\r\n\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&COPY; 2021 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer","import React from \"react\";\r\n\r\nfunction ImagePopup(props) { \r\n  return (\r\n    <div className={`popup popup_open_background-image ${props.card.name && 'popup_opened'}`}>\r\n      <div className=\"popup__background-image-container\">\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}></button>\r\n        <h2 className=\"popup__image-title\">{props.card.name}</h2>\r\n        <img className=\"popup__background-image\"\r\n          src={props.card.link}\r\n          alt={props.card.link} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup","class Api {\r\n  constructor(authorizationToken, url) {\r\n    this.authorizationToken = authorizationToken;\r\n    this.url = url\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Ошибка: ${res.status}`)\r\n    }\r\n    return res.json()\r\n  }\r\n\r\n  getCardItems() {\r\n    return fetch(`${this.url}/cards`, {\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n      }\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  setUserInfo(userInfo) {\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: userInfo.name,\r\n        about: userInfo.info\r\n      })\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.url}/users/me`, {\r\n      headers: {\r\n        authorization: this.authorizationToken\r\n      }\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  addNewCard(item) {\r\n    return fetch(`${this.url}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: item.name,\r\n        link: item.link\r\n      })\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this.url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  likeCard(id) {\r\n    return fetch(`${this.url}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  unlikeCard(id) {\r\n    return fetch(`${this.url}/cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  changeAvatar(avatarLink) {\r\n    return fetch(`${this.url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatarLink\r\n      })\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n}\r\n\r\nconst api = new Api('a5607433-7f53-40eb-a48e-ab0174e03e0a', 'https://mesto.nomoreparties.co/v1/cohort-27')\r\n\r\nexport default api","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n      <div className={`popup__container ${props.isOpen && 'popup__container_opened'}`}>\r\n        <form className=\"form\" name={props.name} onSubmit={props.onSubmit}>\r\n          <button className=\"popup__close-button\" type=\"button\" aria-label=\"Закрыть\" onClick={props.onClose}></button>\r\n          <h2 className=\"form__header\">{props.title}</h2>\r\n          {props.children}\r\n          <button className=\"form__save-button\" type=\"submit\" aria-label=\"Сохранить\">Сохранить</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm'\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext'\r\n\r\nconst EditProfilePopup = (props) => {\r\n\r\n  const userContext = React.useContext(CurrentUserContext)\r\n\r\n  const [name, setName] = React.useState('')\r\n  const [description, setDescription] = React.useState('')\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onUpdateUser({\r\n      name,\r\n      info: description,\r\n    })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(userContext.name)\r\n    setDescription(userContext.about)\r\n  }, [userContext, props.isOpen])\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit-profile\" title=\"Редактировать профиль\" onSubmit={handleSubmit}\r\n      isOpen={props.isOpen} onClose={props.onClose}>\r\n      <>\r\n        <section className=\"form__section\">\r\n          <input className=\"form__field form__field_input_name\" type=\"text\" name=\"name\" id=\"name-input\" required\r\n            autoComplete=\"off\" minLength=\"2\" maxLength=\"40\" value={name} onChange={handleChangeName} />\r\n          <span className=\"form__field-error\" id=\"name-input-error\"></span>\r\n        </section>\r\n        <section className=\"form__section\">\r\n          <input className=\"form__field form__field_input_bio\" type=\"text\" name=\"info\" id=\"bio-input\" required\r\n            autoComplete=\"off\" minLength=\"2\" maxLength=\"200\" value={description} onChange={handleChangeDescription} />\r\n          <span className=\"form__field-error\" id=\"bio-input-error\"></span>\r\n        </section>\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm'\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const urlRef = React.useRef()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onUpdateAvatar(urlRef.current.value)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"change-avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <>\r\n        <section className=\"form__section\">\r\n          <input className=\"form__field form__field_input_link\" type=\"url\" name=\"link\" id=\"link-input\"\r\n            placeholder=\"Ссылка на картинку\" required autoComplete=\"off\" ref={urlRef} />\r\n          <span className=\"form__field-error\" id=\"link-input-error\"></span>\r\n        </section>\r\n      </>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm'\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault()\r\n    props.onAddPlace({ name: nameValue, link: imageValue })\r\n    setNameValue('')\r\n    setImageValue('')\r\n  }\r\n\r\n  const [nameValue, setNameValue] = React.useState('')\r\n  const [imageValue, setImageValue] = React.useState('')\r\n\r\n  function handleNameChange(e) {\r\n    setNameValue(e.target.value)\r\n  }\r\n\r\n  function handleImageChange(e) {\r\n    setImageValue(e.target.value)\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm name=\"add-card\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleAddPlaceSubmit}>\r\n      <>\r\n        <section className=\"form__section\">\r\n          <input className=\"form__field form__field_input_place-name\" type=\"text\" name=\"name\" id=\"place-name-input\"\r\n            placeholder=\"Название\" required autoComplete=\"off\" minLength=\"2\" maxLength=\"30\" value={nameValue} onChange={handleNameChange} />\r\n          <span className=\"form__field-error\" id=\"place-name-input-error\"></span>\r\n        </section>\r\n        <section className=\"form__section\">\r\n          <input className=\"form__field form__field_input_link\" type=\"url\" name=\"link\" id=\"url-input\"\r\n            placeholder=\"Ссылка на картинку\" required autoComplete=\"off\" value={imageValue} onChange={handleImageChange} />\r\n          <span className=\"form__field-error\" id=\"url-input-error\"></span>\r\n        </section>\r\n      </>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ components: Components, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? Components : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport Header from '../Header/Header';\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction Register(props) {\r\n\r\n  const [email, setEmail] = React.useState('')\r\n  const [password, setPassword] = React.useState('')\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value)\r\n  }\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    props.onRegister(password, email)\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header buttonName=\"Войти\" loggedIn={props.loggedIn} path={\"/sign-in\"} />\r\n      <main className=\"account\">\r\n        <form className=\"form account__inputs\" onSubmit={handleSubmit}>\r\n          <h2 className=\"form__header\">Регистрация</h2>\r\n          <input className=\"form__field account__input\" type=\"text\" name=\"email\" value={email} onChange={handleEmailChange}\r\n            placeholder=\"Email\" required autoComplete=\"off\" />\r\n          <input className=\"form__field account__input\" type=\"password\" name=\"password\" value={password} onChange={handlePasswordChange}\r\n            placeholder=\"Пароль\" required autoComplete=\"off\" />\r\n          <button className=\"form__save-button account__save-button\" type=\"submit\">Зарегистрироваться</button>\r\n          <Link to=\"/sign-in\" className=\"account__redirect\">Уже зарегистрированы? Войти</Link>\r\n        </form>\r\n      </main>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport Header from '../Header/Header';\r\n\r\nfunction Login(props) {\r\n\r\n  const [email, setEmail] = React.useState('')\r\n  const [password, setPassword] = React.useState('')\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value)\r\n  }\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    props.onLogin(password, email)\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header buttonName=\"Регистрация\" loggedIn={props.loggedIn} path={\"/sign-up\"} />\r\n      <main className=\"account\">\r\n        <form className=\"form account__inputs\" onSubmit={handleSubmit}>\r\n          <h2 className=\"form__header\">Вход</h2>\r\n          <input className=\"form__field account__input\" type=\"text\" name=\"email\" value={email} onChange={handleEmailChange}\r\n            placeholder=\"Email\" required autoComplete=\"off\" />\r\n          <input className=\"form__field account__input\" type=\"password\" name=\"password\" value={password} onChange={handlePasswordChange}\r\n            placeholder=\"Пароль\" required autoComplete=\"off\" />\r\n          <button className=\"form__save-button account__save-button\" type=\"submit\">Войти</button>\r\n        </form>\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","export const BASE_URL = 'https://auth.nomoreparties.co'\r\n\r\nconst getResponseData = (res) => {\r\n  if (!res.ok) {\r\n    return Promise.reject(`Ошибка: ${res.status}`)\r\n  }\r\n  return res\r\n}\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ password, email })\r\n  })\r\n    .then(response => getResponseData(response))\r\n};\r\n\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ password, email })\r\n  })\r\n    .then(response => getResponseData(response))\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n    .then(response => getResponseData(response))\r\n}","export default __webpack_public_path__ + \"static/media/resolved.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/rejected.df8eddf6.svg\";","import React from 'react';\r\nimport resolved from '../../images/resolved.svg'\r\nimport rejected from '../../images/rejected.svg'\r\n\r\nfunction InfoToolTip(props) {\r\n  function handleCloseInfoToolTip() {\r\n    props.onClose()\r\n  }\r\n  return (\r\n    <div className={`popup ${props.isOpen && 'popup_opened'}`}>\r\n      <div className={`popup__container popup__container_info ${props.isOpen && 'popup__container_opened'}`}>\r\n        <button className=\"popup__close-button\" type=\"button\" aria-label=\"Закрыть\" onClick={handleCloseInfoToolTip}></button>\r\n        <div className=\"popup__confirmation\">\r\n          <img className=\"popup__confirmation-image\" src={props.isOk ? resolved : rejected}\r\n            alt={props.isOk ? \"Вы успешно зарегистрировались\" : \"Что-то пошло не так!\"} />\r\n          <h2 className=\"form__header\">\r\n            {props.isOk ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n          </h2>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoToolTip","import React from 'react'\r\nimport Header from './Header/Header.js'\r\nimport Main from './Main/Main.js'\r\nimport Footer from './Footer/Footer.js'\r\nimport ImagePopup from './ImagePopup/ImagePopup.js'\r\nimport api from '../utils/Api.js'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js'\r\nimport EditProfilePopup from './EditProfilePopup/EditProfilePopup.js'\r\nimport EditAvatarPopup from './EditAvatarPopup/EditAvatarPopup.js'\r\nimport AddPlacePopup from './AddPlacePopup/AddPlacePopup.js'\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport ProtectedRoute from './ProtectedRoute/ProtectedRoute.js'\r\nimport Register from './Register/Register.js'\r\nimport Login from './Login/Login.js'\r\nimport { register, authorize, getContent } from '../utils/Auth'\r\nimport InfoToolTip from './InfoToolTip/InfoToolTip.js'\r\n\r\nfunction App() {\r\n\r\n  const history = useHistory()\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({ name: '', about: '', avatar: '' })\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false)\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false)\r\n  const [selectedCard, setSelectedCard] = React.useState({ name: '', link: '' })\r\n  const [cards, setCards] = React.useState([])\r\n  const [loggedIn, setLoggedIn] = React.useState(false)\r\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = React.useState(false)\r\n  const [isResponseOk, setIsResponseOk] = React.useState(null)\r\n\r\n  function handleRegister(password, email) {\r\n    register(password, email)\r\n      .then((res) => {\r\n        setIsResponseOk(true)\r\n      })\r\n      .catch((err) => {\r\n        setIsResponseOk(false)\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n      .finally(() => setIsInfoToolTipOpen(true))\r\n  }\r\n\r\n  function handleAuthorize(password, email) {\r\n    authorize(password, email)\r\n      .then((res) => {\r\n        return res.json()\r\n      })\r\n      .then((data) => {\r\n        if (data.token) {\r\n          localStorage.setItem('token', data.token);\r\n        }\r\n        handleTokenCheck()\r\n        setLoggedIn(true)\r\n      })\r\n      .catch((err) => {\r\n        setIsInfoToolTipOpen(true)\r\n        setIsResponseOk(false)\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  }\r\n\r\n  function handleTokenCheck() {\r\n    const jwt = localStorage.getItem('token');\r\n    if (jwt) {\r\n      getContent(jwt)\r\n        .then((res) => {\r\n          return res.json()\r\n        })\r\n        .then((res) => {\r\n          setLoggedIn(true)\r\n          setCurrentUser({ ...currentUser, email: res.data.email })\r\n        })\r\n        .catch((err) => console.log(`Ошибка: ${err}`))\r\n    }\r\n  }\r\n\r\n  function handleDeleteToken() {\r\n    localStorage.removeItem('token')\r\n    history.push('/sign-in')\r\n    setLoggedIn(false)\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true)\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleCardClick(data) {\r\n    setSelectedCard(data)\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false)\r\n    setIsEditProfilePopupOpen(false)\r\n    setIsAddPlacePopupOpen(false)\r\n    setIsInfoToolTipOpen(false)\r\n    setSelectedCard({ name: '', link: '' })\r\n  }\r\n\r\n  function handleUpdateUser(user) {\r\n    api.setUserInfo(user)\r\n      .then((userInfo) => {\r\n        setCurrentUser(userInfo)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  }\r\n\r\n  function handleUpdateAvatar(url) {\r\n    api.changeAvatar(url)\r\n      .then((res) => {\r\n        setCurrentUser({ ...currentUser, avatar: res.avatar })\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    handleTokenCheck()\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    if (loggedIn === true) {\r\n      history.push('/react-mesto-auth')\r\n    }\r\n  }, [loggedIn])\r\n\r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n      .then((userInfo) => {\r\n        setCurrentUser(pre => ({\r\n          ...pre, ...userInfo\r\n        }))\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    api.getCardItems()\r\n      .then((cardsData) => {\r\n        setCards(cardsData)\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    if (isLiked) {\r\n      api.unlikeCard(card._id).then((newCard) => {\r\n        setCards((prevState) => prevState.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n        .catch((err) => {\r\n          console.log(`Ошибка: ${err}`)\r\n        });\r\n    }\r\n    else {\r\n      api.likeCard(card._id).then((newCard) => {\r\n        setCards((prevState) => prevState.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n        .catch((err) => {\r\n          console.log(`Ошибка: ${err}`)\r\n        });\r\n    }\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id).then(() => {\r\n      setCards((state) => state.filter((c) => card._id !== c._id))\r\n    })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  }\r\n\r\n  function handleAddPlace(card) {\r\n    api.addNewCard(card).then(res => {\r\n      setCards([res, ...cards])\r\n      closeAllPopups()\r\n    })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  }\r\n\r\n  function handleOpenInfoToolTip(boolean) {\r\n    setIsInfoToolTipOpen(boolean)\r\n  }\r\n\r\n  function handleIsResponseOk() {\r\n    setIsResponseOk(true)\r\n  }\r\n\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Switch>\r\n        <Route path=\"/sign-up\">\r\n          <Register loggedIn={loggedIn} onRegister={handleRegister}\r\n            onInfo={handleOpenInfoToolTip} onResponse={handleIsResponseOk} />\r\n          <InfoToolTip isOpen={isInfoToolTipOpen} isOk={isResponseOk} onClose={closeAllPopups} />\r\n        </Route>\r\n        <Route path=\"/sign-in\" >\r\n          <Login loggedIn={loggedIn} onLogin={handleAuthorize}\r\n            onInfo={handleOpenInfoToolTip} onResponse={handleIsResponseOk} />\r\n          <InfoToolTip isOpen={isInfoToolTipOpen} isOk={isResponseOk} onClose={closeAllPopups} />\r\n        </Route>\r\n        <ProtectedRoute path=\"/react-mesto-auth\" loggedIn={loggedIn} components={\r\n          <>\r\n            <div className=\"page\">\r\n              <Header buttonName=\"Выйти\" loggedIn={loggedIn} path={\"/sign-in\"} onLogOut={handleDeleteToken} />\r\n              <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick}\r\n                onCardLike={handleCardLike} onCardDelete={handleCardDelete} cards={cards}\r\n                onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} />\r\n              <Footer />\r\n              <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n              <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\r\n              <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n              <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n            </div>\r\n          </>\r\n        } />\r\n      </Switch>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\n\r\nexport default App\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}